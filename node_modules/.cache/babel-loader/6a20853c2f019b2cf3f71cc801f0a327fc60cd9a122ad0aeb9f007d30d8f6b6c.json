{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/3C-GRAFFIC/GrowthStage/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/3C-GRAFFIC/GrowthStage/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/3C-GRAFFIC/GrowthStage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// PausaStatusChart.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import Chart from'react-apexcharts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PausaStatusChart(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pausaStatusData=_useState2[0],setPausaStatusData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),pausaStatusChartData=_useState4[0],setPausaStatusChartData=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){function fetchPausaStatusData(){return _fetchPausaStatusData.apply(this,arguments);}function _fetchPausaStatusData(){_fetchPausaStatusData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var apiToken,response,data,newPausaStatusData,pausedCount,activeCount,chartData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;apiToken='d0NLCpTnvtsY1gQu7S38RyF47fOjnHknynBjGzWxCwpXOJqXaNwWDrGqFomq';_context.next=4;return axios.get(\"https://3c.fluxoti.com/api/v1/campaigns?paused=false&page=1&api_token=\".concat(apiToken));case 4:response=_context.sent;data=response.data.data;console.log('API Response Data for Pausa Status:',data);newPausaStatusData=data.map(function(campaign){return{name:campaign.name,paused:campaign.paused};});console.log('Formatted Pausa Status Data:',newPausaStatusData);setPausaStatusData(newPausaStatusData);pausedCount=newPausaStatusData.filter(function(item){return item.paused;}).length;activeCount=newPausaStatusData.length-pausedCount;chartData={series:[pausedCount,activeCount],options:{chart:{type:'donut'},labels:['Pausada','Ativa'],title:{text:'Status de Pausa das Campanhas',align:'center'},dataLabels:{enabled:true},plotOptions:{pie:{donut:{size:'70%'}}}}};console.log('Pausa Status Chart Data:',chartData);setPausaStatusChartData(chartData);_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.error('Error fetching pausa status data:',_context.t0);setError('Error fetching pausa status data. Please try again later.');case 21:_context.prev=21;setLoading(false);return _context.finish(21);case 24:case\"end\":return _context.stop();}},_callee,null,[[0,17,21,24]]);}));return _fetchPausaStatusData.apply(this,arguments);}fetchPausaStatusData();},[]);if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-3 mb-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Status de Pausa das Campanhas\"}),/*#__PURE__*/_jsx(Chart,{options:pausaStatusChartData.options,series:pausaStatusChartData.series,type:\"donut\",height:350})]});}export default PausaStatusChart;","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","jsx","_jsx","jsxs","_jsxs","PausaStatusChart","_useState","_useState2","_slicedToArray","pausaStatusData","setPausaStatusData","_useState3","_useState4","pausaStatusChartData","setPausaStatusChartData","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","fetchPausaStatusData","_fetchPausaStatusData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","apiToken","response","data","newPausaStatusData","pausedCount","activeCount","chartData","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","map","campaign","name","paused","filter","item","length","series","options","chart","type","labels","title","text","align","dataLabels","enabled","plotOptions","pie","donut","size","t0","finish","stop","children","className","height"],"sources":["/workspace/3C-GRAFFIC/GrowthStage/src/components/Pause/PausaStatusChart.js"],"sourcesContent":["// PausaStatusChart.js\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Chart from 'react-apexcharts';\n\nfunction PausaStatusChart() {\n  const [pausaStatusData, setPausaStatusData] = useState([]);\n  const [pausaStatusChartData, setPausaStatusChartData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchPausaStatusData() {\n      try {\n        const apiToken = 'd0NLCpTnvtsY1gQu7S38RyF47fOjnHknynBjGzWxCwpXOJqXaNwWDrGqFomq';\n\n        const response = await axios.get(`https://3c.fluxoti.com/api/v1/campaigns?paused=false&page=1&api_token=${apiToken}`);\n\n        const data = response.data.data;\n\n        console.log('API Response Data for Pausa Status:', data);\n\n        const newPausaStatusData = data.map((campaign) => ({\n          name: campaign.name,\n          paused: campaign.paused,\n        }));\n\n        console.log('Formatted Pausa Status Data:', newPausaStatusData);\n\n        setPausaStatusData(newPausaStatusData);\n\n        const pausedCount = newPausaStatusData.filter((item) => item.paused).length;\n        const activeCount = newPausaStatusData.length - pausedCount;\n\n        const chartData = {\n          series: [pausedCount, activeCount],\n          options: {\n            chart: {\n              type: 'donut',\n            },\n            labels: ['Pausada', 'Ativa'],\n            title: {\n              text: 'Status de Pausa das Campanhas',\n              align: 'center',\n            },\n            dataLabels: {\n              enabled: true,\n            },\n            plotOptions: {\n              pie: {\n                donut: {\n                  size: '70%',\n                },\n              },\n            },\n          },\n        };\n\n        console.log('Pausa Status Chart Data:', chartData);\n\n        setPausaStatusChartData(chartData);\n      } catch (error) {\n        console.error('Error fetching pausa status data:', error);\n        setError('Error fetching pausa status data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchPausaStatusData();\n  }, []);\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n\n  if (error) {\n    return <p>{error}</p>;\n  }\n\n  return (\n    <div className='container-fluid mt-3 mb-3'>\n      <h2>Status de Pausa das Campanhas</h2>\n      <Chart\n        options={pausaStatusChartData.options}\n        series={pausaStatusChartData.series}\n        type='donut'\n        height={350}\n      />\n    </div>\n  );\n}\n\nexport default PausaStatusChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}